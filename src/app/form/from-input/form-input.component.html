<div class="mt-5">
  <form [formGroup]="fg" class="text-right" (ngSubmit)="handleAdd(fg.value)">
    <div class="form-group row">
      <label class="col-sm-2 col-form-label">Name : </label>
      <div class="col-sm-8">
        <input type="text" class="form-control" placeholder="Enter name" formControlName="name">
        <small *ngIf="name && name.invalid && name.touched" class="text-danger">*Enter valid name</small>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-sm-2 col-form-label">Email : </label>
      <div class="col-sm-8">
        <input type="text" class="form-control" placeholder="Enter email" formControlName="email">
        <small *ngIf="email && email.invalid && email.touched" class="text-danger">*Enter valid email</small>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-sm-2 col-form-label">Password : </label>
      <div class="col-sm-8">
        <input type="password" class="form-control" placeholder="Enter password" formControlName="password">
        <small *ngIf="password && password.invalid && password.touched" class="text-danger">*Enter valid password (at
          least of 8 digit)</small>
      </div>
    </div>
    <div *ngIf="clicked" class="text-center">
      <button type="submit" [disabled]="!fg.valid" class="btn btn-primary">Add Data</button>
      <input type="reset" value="Reset" class="btn btn-info ml-3">
    </div>
    <div *ngIf="!clicked" class="text-center">
      <button (click)="handleUpdate(fg.value)" [disabled]="!fg.valid" class="btn btn-primary">Update Data</button>
      <input type="reset" value="Reset" class="btn btn-info ml-3">
    </div>
  </form>
</div>

<!-- Data Display -->
<table class="table ml-3 mt-5 mr-2">
  <thead>
    <tr class="text-left">
      <th scope="col">Name</th>
      <th scope="col">Email</th>
      <th scope="col">Password</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let data of arr; let i = index">
      <th scope="row">{{data.name.name}}</th>
      <th scope="row">{{data.name.email}}</th>
      <th scope="row">{{data.name.password}}</th>
      <th scope="row">
        <div *ngIf="clicked">
          <button class="btn btn-warning" (click)="handleEdit(data.name, i)">Edit</button>
          <button class="btn btn-danger ml-2" (click)="handleRemove(data.id)">Remove</button>
        </div>
        <div *ngIf="!clicked ">
          <button class="btn btn-danger ml-2" (click)="handleRemove(data.id)">Remove</button>
        </div>
      </th>
    </tr>
  </tbody>
</table>
